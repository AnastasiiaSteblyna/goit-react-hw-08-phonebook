"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[855],{3855:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(2791),a=t(7689),o=t(5048),c=t(4087),s=t(5946),i=t(4500),l=t(751),u=t(9229),d=t(7886),h=t(3870),m=t(3329),x=function(){var e=(0,o.I0)(),n=(0,o.v9)((function(e){return e.filter}));return(0,m.jsxs)(l.K,{w:"400px",mx:"auto",my:"6",spacing:3,children:[(0,m.jsx)(u.x,{color:"white",fontWeight:"bold",children:"Find contacts by name"}),(0,m.jsx)(d.I,{color:"white",onChange:function(n){e((0,h.T)(n.currentTarget.value.toLowerCase()))},value:n,type:"text",name:"filter"})]})},p=t(1413),g=t(6501),f=t(3204),b=t(9439),j=t(9085),w=t(176),v=t(4224),k=function(e){var n=e.name,t=e.number,a=e.id,o=(0,g.zr)(),s=(0,b.Z)(o,2),i=s[0],l=s[1],u=l.isLoading,d=l.isSuccess,h=l.error;return(0,r.useEffect)((function(){d&&j.Am.info(" ".concat(n," removed")),h&&j.Am.error("something went wrong")}),[d,n,h]),(0,m.jsx)(c.xu,{mb:"5",children:(0,m.jsxs)(w.k,{textTransform:"uppercase",alignItems:"center",justifyContent:"space-between",w:"400px",mb:"5",color:"white",children:[n," \u2022 \u2022 \u2022 ",t,(0,m.jsx)(v.z,{type:"button",onClick:function(){return i(a)},disabled:u,bg:"blackAlpha.400",color:"white",_hover:{bg:"blackAlpha.300"},children:u?"Deleting":"Delete"})]})},a)},y=function(){var e=(0,g.pG)(),n=e.data,t=e.isFetching,r=(0,o.v9)((function(e){return e.filter})),a=n&&n.filter((function(e){return e.name.toLowerCase().includes(r)}));return(0,m.jsxs)(m.Fragment,{children:[t&&(0,m.jsx)(f.$,{thickness:"4px",speed:"0.95s",emptyColor:"gray.200",color:"blue.200",size:"xl",ml:"190"}),n&&0!==n.length&&(0,m.jsx)("ul",{children:a.map((function(e){return(0,m.jsx)(k,(0,p.Z)({},e),e.id)}))}),n&&0===n.length&&(0,m.jsx)("p",{children:"Add your contacts to see them here"})]})},A=t(2701),C=t(4585),Z=function(){var e=(0,g.F3)(),n=(0,b.Z)(e,2),t=n[0],a=n[1],o=a.isLoading,c=a.isSuccess,s=a.error,i=(0,g.pG)().data,u=(0,r.useState)(""),h=(0,b.Z)(u,2),x=h[0],p=h[1],f=(0,r.useState)(""),w=(0,b.Z)(f,2),k=w[0],y=w[1],Z=(0,r.useState)(""),_=(0,b.Z)(Z,2),N=_[0],z=_[1];(0,r.useEffect)((function(){c&&j.Am.success(" ".concat(N," succesfully added"),{autoClose:800}),s&&j.Am.error("something went wrong")}),[s,c,N]);var S=function(e){var n=e.currentTarget,t=n.name,r=n.value;switch(t){case"name":p(r);break;case"number":y(r);break;default:return}};return(0,m.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),z(x),i.every((function(e){return e.name.toLowerCase()!==x.toLowerCase()}))?t({name:x,number:k}):j.Am.error("".concat(x," is alredy in contacts!")),p(""),y("")},children:(0,m.jsxs)(l.K,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,m.jsxs)(A.NI,{id:"name",children:[(0,m.jsx)(C.l,{color:"white",children:"Name"}),(0,m.jsx)(d.I,{color:"white",onChange:S,value:x,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Davyd Steblyna"})]}),(0,m.jsxs)(A.NI,{id:"name",children:[(0,m.jsx)(C.l,{color:"white",children:"Number"}),(0,m.jsx)(d.I,{color:"white",onChange:S,value:k,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"+380..."})]}),(0,m.jsx)(v.z,{bg:"blackAlpha.600",color:"white",_hover:{bg:"blackAlpha.400"},type:"submit",children:o?"Adding...":"Add Contact"})]})})},_=t(3023),N=function(){var e=(0,o.v9)(i.Vp);return(0,m.jsx)(w.k,{minH:"100vh",align:"center",justify:"center",backgroundImage:"url(".concat(_,")"),backgroundSize:"cover",backgroundPosition:"center center",children:(0,m.jsx)(l.K,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:(0,m.jsxs)(c.xu,{rounded:"lg",bg:"blackAlpha.400",boxShadow:"lg",p:8,children:[!e&&(0,m.jsx)(a.Fg,{to:"/",replace:!0}),(0,m.jsx)(s.X,{align:"center",color:"whiteAlpha.800",children:"Phonebook"}),(0,m.jsx)(Z,{}),(0,m.jsx)(s.X,{align:"center",color:"whiteAlpha.800",children:"Contacts"}),(0,m.jsx)(x,{}),(0,m.jsx)(y,{})]})})})}},3023:function(e,n,t){e.exports=t.p+"static/media/bg.1759720a9e16b36b9f09.jpg"},9229:function(e,n,t){t.d(n,{x:function(){return m}});var r=t(1413),a=t(4925),o=t(7872),c=t(581),s=t(9477),i=t(2952),l=t(6992),u=t(5246),d=t(3329),h=["className","align","decoration","casing"],m=(0,o.G)((function(e,n){var t=(0,c.mq)("Text",e),o=(0,s.Lr)(e),m=(o.className,o.align,o.decoration,o.casing,(0,a.Z)(o,h)),x=(0,u.oA)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,d.jsx)(i.m.p,(0,r.Z)((0,r.Z)((0,r.Z)({ref:n,className:(0,l.cx)("chakra-text",e.className)},x),m),{},{__css:t}))}));m.displayName="Text"}}]);
//# sourceMappingURL=855.888c6f9d.chunk.js.map